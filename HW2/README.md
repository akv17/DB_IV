В качетсве локального SQL-сервера я использовал `PostgreSQL`  

Структура БД:
<br>
Сущности:
- Сообщение (таблица Messages)
- Пользователь (таблица Users)
- Удаленный пользователь (таблица DelUsers)
<br>

Отношения:
- Сообщение <> Отправляющий (Messages.msg_usr_id_from <> Users.usr_id)
- Сообщение <> Получающий (Messages.msg_usr_id_to <> Users.usr_id)
- Активный пользователь <> Удаленный пользователь (Users.usr_id <> DelUsers.usr_id)
 
Интерфейс работы с БД реализован в `db.py`, пользовательский -- в `flask_app.py`.

Возможности:
- Сложные `SELECT` запросы, объединяющие вложения запросов, `JOIN` выражения и пересечение таблиц
- Поиск по всем типам сущностей (включая использование логических выражений и LIKE-синтаксиса)
- Внесение новых записей для всех типов сущностей
- Удаление записей всех типов сущностей
- Изменение данных пользователей (с возможностью восстановления пользователя после его удаления)

Особенности:
- При удалении пользователя его данные записываются в таблицу `DelUsers`, нечто вроде архива. Сообщения при этом остаются, однако при поиске по сообщениям выводятся только те, в которых удаленный пользователь фигурирует как получатель
- Наличие таблицы `DelUsers` позволяет в любой момент восстановить любого удаленного пользователя со всей историей его сообщений
- Общий чат реализован как специальный пользователь @CHAT c `id=1`
- Контроль уникальности пользовательских ников (Users.usr_nick) при записи и восстановлении из удаленных
- Возможность выбора набора столбцов в выдаче при `SELECT` запросах

К сожалению, я не понял, как и где найти на диске созданную на локальном сервере БД, поэтому не приложил ее сюда.  
На сервере БД была названа `'chat.db'`, а запуск `db.py` скрипта создаст все необходимые таблицы и заполнит их игрушечными примерами.   
